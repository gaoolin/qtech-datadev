<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.qtech.comparison.mapper.JobStatusMapper">
    <resultMap id="jobStatResult" type="jobStatus">
        <result property="programName" column="program_name"/>
        <result property="preRunTime" column="pre_run_time"/>
        <result property="status" column="status"/>
    </resultMap>

    <sql id="jobRunDtSql">
        select program_name, pre_run_time, status from qtech_datadev.public.job_run_status
    </sql>

    <select id="getDbJobRunDt" resultMap="jobStatResult">
        <include refid="jobRunDtSql"></include>
        <where>
            <if test="programName != null and programName !=''">and program_name = #{programName}</if>
        </where>
    </select>
    <select id="getDbJobRunStat" resultType="JobStatus">
        <include refid="jobRunDtSql"></include>
        <where>
            <if test="programName != null and programName !=''">and program_name = #{programName}</if>
        </where>
    </select>
</mapper>
